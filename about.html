<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>CV Bykov Mark</title>
<style>
    body {background-color: rgb(73, 167, 190);}
    </style>
</head>
<body>
<p>
<h1 style="color:rgb(221, 221, 221);"><i>Резюме</i></h1>
<h2 style="color:rgb(22, 33, 185);">Быков Марк Олегович 24.02.2005</h2>
<b style="color:rgb(187, 1, 1);">Студент второго курса МГТУ "Станкин"</b>
<p>Опыт работы: нет</p>
<p>Владение французским языком (DELF B1)</p>


<p>Пример запроса JS (parse)</p>

<div class="main">
    <h2>JavaScript Confirm Box</h2>
    <button class="btn" onclick="myFunction()">Try it</button>
    <ul id="demo">

    </ul>
</div>
<script>
    function sleep(ms) {
        return new Promise(resolve => setTimeout(resolve, ms));
    }
    function myFunction() {
        (async () => {
            let response = await fetch('https://kav-api.kovalev.team/servodrive/lastActualData?servoDriveId=1');
            let el = document.getElementById('demo')
            el.innerHTML = ""
            let text = await response.text(); // прочитать тело ответа как текст
            for (const [key, value] of Object.entries(JSON.parse(text)[0])) {
                const newEl = document.createElement("li")
                newEl.appendChild(document.createTextNode(`${key}: ${value}`))
                el.appendChild(newEl)
                await sleep(100)
            }
        })()
    }
</script>

</p>
</body>